---
import dayjs from "dayjs";
import IconBack from "../../icons/IconBack.astro";
import IconDate from "../../icons/IconDate.astro";

type Props = {
  frontmatter: {
    title: string;
    author: string;
    description: string;
    tags: string[];
    published: boolean;
    publishDate: string;
  };
};

const { frontmatter } = Astro.props;
---

<header
  class="relative mx-auto flex max-w-none flex-col items-center justify-center bg-blog-dark px-6 pt-24 pb-20 text-center text-blog-95 sm:max-w-[2560px] sm:px-16"
>
  <div class="header-bg absolute inset-0 mx-auto h-full"></div>

  <div class="absolute top-0 w-full max-w-7xl px-6">
    <a
      href="/blog"
      class="absolute top-6 left-6 flex items-center space-x-2 text-blog-40 hover:underline sm:top-10 sm:left-10"
    >
      <IconBack />
      <span>Back to blog</span>
    </a>
  </div>

  <div class="relative">
    <p class="mb-3 text-blog-80">{frontmatter.tags[0]}</p>
    <h1 class="balance-text text-2xl font-bold leading-120 sm:w-[40rem] sm:text-[2rem]">
      {frontmatter.title}
    </h1>
    <div class="mt-8 flex items-center justify-center space-x-2 text-sm text-blog-60 sm:text-base">
      <IconDate />
      <span class="sr-only">Published at</span>
      <span>{dayjs(frontmatter.publishDate).format("dddd, DD MMMM YYYY")}</span>
    </div>
  </div>
</header>

<style>
  .header-bg {
    background: radial-gradient(ellipse 50% 50% at 50% -10%, hsla(220, 40%, 30%, 0.5), rgba(8, 11, 18, 0));
  }

  header {
    filter: drop-shadow(0px 41px 11px rgba(11, 15, 24, 0.01)) drop-shadow(0px 26px 10px rgba(11, 15, 24, 0.07))
      drop-shadow(0px 15px 9px rgba(11, 15, 24, 0.25)) drop-shadow(0px 7px 7px rgba(11, 15, 24, 0.43))
      drop-shadow(0px 2px 4px rgba(11, 15, 24, 0.49)) drop-shadow(0px 0px 0px rgba(11, 15, 24, 0.5));
  }
</style>
